<div class="container mt-4">
  <h2>Edit Task</h2>
  <form *ngIf="task" (ngSubmit)="onSubmit()" #taskForm="ngForm">
    <div class="form-group">
      <label>Title</label>
      <input type="text" class="form-control" name="title" [(ngModel)]="task.title" required>
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea class="form-control" name="description" [(ngModel)]="task.description" required></textarea>
    </div>
    <div class="form-group">
      <label>Department</label>
      <ng-select [items]="departments" bindLabel="name" bindValue="name" [(ngModel)]="task.department" name="department" (change)="onDepartmentChange()" required></ng-select>
    </div>
    <div class="form-group">
      <label>Project</label>
      <ng-select [items]="projects" bindLabel="name" bindValue="name" [(ngModel)]="task.project" name="project" (change)="onProjectChange()" required></ng-select>
    </div>
    <div class="form-group">
      <label>Assign to Employee</label>
      <ng-select [items]="filteredEmployees" bindLabel="name" bindValue="id" [(ngModel)]="task.assignedEmployeeId" name="assignedEmployeeId" required></ng-select>
    </div>
    <button type="submit" class="btn btn-success" [disabled]="!taskForm.form.valid">Update</button>
    <a routerLink="/tasks" class="btn btn-secondary ml-2">Cancel</a>
  </form>
</div>
